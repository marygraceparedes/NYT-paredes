const e="te3UIjW4hkkAFeNfLl5FNBkTsAO1oRtX",t=document.getElementById("bolg-container"),r=document.getElementById("search-input"),n=document.getElementById("search-button"),o=document.getElementById("topic-list");async function a(){try{let t=`https://api.nytimes.com/svc/topstories/v2/home.json?api-key=${e}`,r=await fetch(t),n=await r.json();if(n.results)return n.results;return console.error("Error: No articles found"),[]}catch(e){return console.error("Error fetching random news",e),[]}}async function i(t){try{let r=`https://api.nytimes.com/svc/search/v2/articlesearch.json?q=${t}&api-key=${e}`,n=await fetch(r),o=await n.json();if(o.response&&o.response.docs)return o.response.docs;return console.error("Error: No articles found for this query"),[]}catch(e){return console.error("Error fetching news by query",e),[]}}async function c(t){try{let r=`https://api.nytimes.com/svc/topstories/v2/${t}.json?api-key=${e}`,n=await fetch(r),o=await n.json();if(o.results)return o.results;return console.error("Error: No articles found for this topic"),[]}catch(e){return console.error("Error fetching news by topic",e),[]}}function l(e){if(t.innerHTML="",!e||0===e.length){t.innerHTML="<p>No articles available at the moment.</p>";return}e.forEach(e=>{let r=document.createElement("div");r.classList.add("bolg-card");let n=document.createElement("img");n.src=e.multimedia&&e.multimedia[0]?e.multimedia[0].url:"",n.alt=e.title||e.headline?.main||"No title available";let o=document.createElement("h2"),a=(e.title||e.headline?.main)&&(e.title||e.headline?.main).length>30?(e.title||e.headline.main).slice(0,30)+"...":e.title||e.headline?.main||"No title available";o.textContent=a;let i=document.createElement("p"),c=e.abstract||e.lead_paragraph||"No description available",l=c.length>120?c.slice(0,120)+"...":c;i.textContent=l,r.appendChild(n),r.appendChild(o),r.appendChild(i),r.addEventListener("click",()=>{window.open(e.url||e.web_url,"_blank")}),t.appendChild(r)})}n.addEventListener("click",async()=>{let e=r.value.trim();if(""!==e)try{let t=await i(e);l(t)}catch(e){console.log("Error fetching news by query",e)}}),o&&o.querySelectorAll("li").forEach(e=>{e.addEventListener("click",async()=>{let t=e.getAttribute("data-topic");try{let e=await c(t);l(e)}catch(e){console.log(`Error fetching news for topic ${t}`,e)}})}),(async()=>{try{let e=await a();l(e)}catch(e){console.error("Error fetching random news",e)}})();
//# sourceMappingURL=index.ddf749f2.js.map
